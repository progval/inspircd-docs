<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="InspIRCd is a modular C++ Internet Relay Chat (IRC) server for UNIX-like and Windows systems."><link href=https://docs.inspircd.org/3/change-log/ rel=canonical><link rel="shortcut icon" href=../../img/favicon.ico><title>Change Log - InspIRCd Documentation</title><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css><link href=//rsms.me/inter/inter.css rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet type=text/css><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=../../css/base.min.css rel=stylesheet><link href=../../css/cinder.min.css rel=stylesheet><link rel=stylesheet href=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css><!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]--></head> <body> <div class="navbar navbar-default navbar-fixed-top" role=navigation> <div class=container> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=../..>InspIRCd Documentation</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li class="dropdown active"> <a href=# class=dropdown-toggle data-toggle=dropdown>InspIRCd 3 <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../installation/ >Installation</a> </li> <li> <a href=../configuration/ >Configuration</a> </li> <li> <a href=../commands/ >Commands</a> </li> <li> <a href=../modes/ >Modes</a> </li> <li> <a href=../modules/ >Modules</a> </li> <li> <a href=../snomasks/ >SNOMasks</a> </li> <li class=active> <a href=./ >Change Log</a> </li> </ul> </li> <li> <a href=https://github.com/inspircd/inspircd/releases/latest>Downloads</a> </li> <li> <a href=https://github.com/inspircd/inspircd/issues>Issue Tracker</a> </li> <li> <a href=https://www.inspircd.org/api/ >Developer API</a> </li> </ul> <ul class="nav navbar-nav navbar-right"> <li> <a href=# data-toggle=modal data-target=#mkdocs_search_modal> <i class="fas fa-search"></i> Search </a> </li> <li> <a href=https://github.com/inspircd/inspircd-docs/edit/master/docs/3/change-log.md><i class="fab fa-github"></i> Edit on GitHub</a> </li> </ul> </div> </div> </div> <div class=container> <div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary> <ul class="nav bs-sidenav"> <li class="first-level active"><a href=#change-log>Change Log</a></li> <li class=second-level><a href=#inspircd-390>InspIRCd 3.9.0</a></li> <li class=second-level><a href=#inspircd-381>InspIRCd 3.8.1</a></li> <li class=second-level><a href=#inspircd-380>InspIRCd 3.8.0</a></li> <li class=second-level><a href=#inspircd-370>InspIRCd 3.7.0</a></li> <li class=second-level><a href=#inspircd-360>InspIRCd 3.6.0</a></li> <li class=second-level><a href=#inspircd-350>InspIRCd 3.5.0</a></li> <li class=second-level><a href=#inspircd-340>InspIRCd 3.4.0</a></li> <li class=second-level><a href=#inspircd-330>InspIRCd 3.3.0</a></li> <li class=second-level><a href=#inspircd-320>InspIRCd 3.2.0</a></li> <li class=second-level><a href=#inspircd-310>InspIRCd 3.1.0</a></li> <li class=second-level><a href=#inspircd-301>InspIRCd 3.0.1</a></li> </ul> </div></div> <div class=col-md-9 role=main> <h2 id=change-log>Change Log</h2> <p>This page lists changes which have happened between releases.</p> <h3 id=inspircd-390>InspIRCd 3.9.0</h3> <p><strong>This version of InspIRCd was released on 2021-02-26.</strong></p> <ul> <li> <p>Added <code>&lt;chanhistory:enableumode&gt;</code> to allow enabling user mode <code>N</code> (nohistory) which allows users to opt-out of receiving channel history on join.</p> </li> <li> <p>Added <code>&lt;connect:useconnectban&gt;</code> to allow exempting classes from the connectban module.</p> </li> <li> <p>Added <code>&lt;connect:useconnflood&gt;</code> to allow exempting classes from the connflood module.</p> </li> <li> <p>Added a CAPAB client command that will kill server connections made to client ports with a helpful message.</p> </li> <li> <p>Added a configure option, <code>--runtime-dir</code>, which specifies the directory that runtime files (i.e. the pid file) should be placed in.</p> </li> <li> <p>Added a DNS error class to the DNSBL stats.</p> </li> <li> <p>Added a human readable version of the geolocation data so it works in <code>/CHECK</code>.</p> </li> <li> <p>Added config entities which can be used for formatting IRC messages.</p> </li> <li> <p>Added default compiler flags for the ssl_openssl module to make building on distributions where OpenSSL is part of the base system easier.</p> </li> <li> <p>Added example provider configs for DroneBL, the EFnet RBL, and the dan.me.uk Tor exit node DNSBL.</p> </li> <li> <p>Added extbans to the S2S protocol to allow services to validate bans easier.</p> </li> <li> <p>Added HTTP path normalisation to the httpd module.</p> </li> <li> <p>Added snomask privileges to the <code>/CHECK</code> output of a server operator.</p> </li> <li> <p>Added support for multi-prefix to <code>/WHOIS</code> channel lists.</p> </li> <li> <p>Added support for specifying multiple hostmasks in <code>&lt;cgiirc:mask&gt;</code>.</p> </li> <li> <p>Added support for the standard XML <code>&amp;apos;</code>, <code>&amp;gt;</code> and <code>&amp;lt;</code> entities in the config.</p> </li> <li> <p>Added the <code>/HEXIP</code> command to the cgiirc module to allow encoding and decoding IP addresses from their ident format.</p> </li> <li> <p>Added the <code>&lt;dns:enabled&gt;</code> option to allow disabling DNS lookups entirely.</p> </li> <li> <p>Added the <code>&lt;repeat:kickmessage&gt;</code> option to allow configuring the message shown when a user is kicked by the repeat module.</p> </li> <li> <p>Added the <code>&lt;shun:allowconnect&gt;</code> option to allow configuring whether shuns should only be applied to users who are fully connected to the server.</p> </li> <li> <p>Developer: Added <code>ServerConfig::GetServer{Desc,Name}()</code> to allow retrieving the visible server name and description easier.</p> </li> <li> <p>Developer: added support for casting a <code>Cap::Reference</code> to a <code>Cap::Capability*</code>.</p> </li> <li> <p>Fixed <code>./configure --update</code> with cache files generated before v3.2.</p> </li> <li> <p>Fixed <code>/MAP</code> column alignment not taking into account the length of the server version.</p> </li> <li> <p>Fixed <code>&lt;class:snomask&gt;</code> not being parsed correctly when a type has multiple oper classes.</p> </li> <li> <p>Fixed a bunch of inconsistent Perl version requirements.</p> </li> <li> <p>Fixed a crash on shut down when started with <code>--debug --nofork</code>.</p> </li> <li> <p>Fixed being able to call events provided by modules that are dying.</p> </li> <li> <p>Fixed DNSBLs that return non-local addresses blocking connections.</p> </li> <li> <p>Fixed GLOADMODULE, GUNLOADMODULE, and GRELOADMODULE not sending error numerics across the network.</p> </li> <li> <p>Fixed handling DNSBLs that return invalid lookup results.</p> </li> <li> <p>Fixed inconsistently hiding the server name when <code>&lt;options:hideserver&gt;</code> is set.</p> </li> <li> <p>Fixed modulemanager storing files in the incorrect directory if not executed from the root of the source directory.</p> </li> <li> <p>Fixed not being able to classban a class with spaces in the name.</p> </li> <li> <p>Fixed not being able to log into an server operator account with an IP whitelist when using ldapoper.</p> </li> <li> <p>Fixed NOTICE, PRIVMSG, and TAGMSG with multiple status message characters.</p> </li> <li> <p>Fixed sending <code>ERR_NOSUCHNICK</code> instead of <code>ERR_NOSUCHSERVICE</code> when a U-line alias requirement is unavailable.</p> </li> <li> <p>Fixed server operators not being able to see module versions in <code>/MODULES</code>.</p> </li> <li> <p>Fixed silently failing when a DNSBL returns no IPv4 results.</p> </li> <li> <p>Fixed storing data files in <code>/var/inspircd</code> instead of <code>/var/lib/inspircd</code>.</p> </li> <li> <p>Fixed the DNS socket not being closed when core_dns is unloaded.</p> </li> <li> <p>Fixed the fallback linker flags for the argon2 module.</p> </li> <li> <p>Fixed the grammar of the message broadcast when reloading the SSL profiles.</p> </li> <li> <p>Fixed the helper script not storing Valgrind log files in the log directory.</p> </li> <li> <p>Fixed the name of the sha1 hash provider.</p> </li> <li> <p>Fixed the numeric sent when reloading a module which is not loaded.</p> </li> <li> <p>Fixed the path specified in <code>--prefix</code> being relevant at runtime.</p> </li> <li> <p>Fixed trying to set snomasks on non-server operators with SAMODE</p> </li> <li> <p>Fixed users with the same casemapped nick sometimes being lost by the codepage module.</p> </li> <li> <p>Fixed using the legacy TR1 header files when building with a C++11 compiler.</p> </li> <li> <p>Improved debug logging for HTTPd modules.</p> </li> <li> <p>Improved debug logging for service registration and deregistration.</p> </li> <li> <p>Improved the error messages sent by the httpd module.</p> </li> <li> <p>Removed the SERVER stub command.</p> </li> <li> <p>Send <code>RPL_SAVENICK</code> numerics (from irc2) whenever a user's nick is forcibly changed to their UUID.</p> </li> <li> <p>Updated the <code>/SERVLIST</code> command to match against and show the oper type of services pseudoclients.</p> </li> <li> <p>Updated the <code>/SSLINFO</code> command to allow viewing information about channels.</p> </li> <li> <p>Updated the IRCCloud example configs to exempt it from DNSBL lookups, connectban bans, and connflood throttles.</p> </li> </ul> <h3 id=inspircd-381>InspIRCd 3.8.1</h3> <p><strong>This version of InspIRCd was released on 2020-11-20.</strong></p> <ul> <li> <p>Added a config file for using InspIRCd with AppArmor.</p> </li> <li> <p><a href=/security/2020-02>Fixed a <strong>crash</strong> in the websocket module when a user behind a HTTP proxy is [GKZ]-lined</a>.</p> </li> <li> <p>Fixed a harmless compiler warning on recent versions of GCC.</p> </li> <li> <p>Fixed an off by one error in the error message shown when an invalid option is passed on the command line.</p> </li> <li> <p>Fixed connect class logging being unreliable and inconsistent.</p> </li> <li> <p>Fixed continuing with event hooks when a user is quit in the "IP changed" event.</p> </li> <li> <p>Fixed showing an incorrect error when a module could not be loaded.</p> </li> <li> <p>Fixed the connectban and dnsbl modules executing before core_xline.</p> </li> <li> <p>Fixed trailing and preceding whitespace not being stripped by <code>--{disable,enable}-extras</code>.</p> </li> </ul> <h3 id=inspircd-380>InspIRCd 3.8.0</h3> <p><strong>This version of InspIRCd was released on 2020-10-30.</strong></p> <ul> <li> <p>Added <code>&lt;cban:glob&gt;</code> to allow using glob matches within cbans.</p> </li> <li> <p>Added <code>&lt;joinflood:bootwait&gt;</code> to allow disengaging channel mode <code>j</code> (joinflood) when a server first starts up.</p> </li> <li> <p>Added <code>&lt;joinflood:splitwait&gt;</code> to allow disengaging channel mode <code>j</code> (joinflood) when a server splits from the network.</p> </li> <li> <p>Added <code>&lt;shun:allowtags&gt;</code> to allow configuring whether shunned users can send client-to-client tags.</p> </li> <li> <p>Added <code>&lt;shun:cleanedcommands&gt;</code> to allow configuring the commands that shunned users can run but that will be censored.</p> </li> <li> <p>Added a question to <code>./configure</code> for deleting previously created self-signed certificates.</p> </li> <li> <p>Added a warning about non-local unencrypted server connections being insecure.</p> </li> <li> <p>Added the new tinside server and IP blocks to the IRCCloud provider config file.`</p> </li> <li> <p>Added support for specifying the output directory when using <code>inspircd-genssl</code>.</p> </li> <li> <p>Added support for the Argon2 key derivation function.</p> </li> <li> <p>Developer: added a non-const override of <code>CommandBase::Params::GetTags()</code> to allow the modification of tags in OnPreCommand.</p> </li> <li> <p>Fixed <code>--{disable,enable}-extras</code> not erroring when an non-existent extra module is specified.</p> </li> <li> <p>Fixed <code>&lt;dnsbl:action&gt;</code> not being matched case insensitively.</p> </li> <li> <p>Fixed a bunch of outdated and/or incorrect comments in the example configs.</p> </li> <li> <p>Fixed a bunch of warnings about deprecated copy constructors on C++11 compilers.</p> </li> <li> <p>Fixed a minor crash in the disable module when a nonexistent mode is specified.</p> </li> <li> <p>Fixed allowing many entries in <code>&lt;limits&gt;</code> to be set to 0 or more than the max line length.</p> </li> <li> <p>Fixed disconnecting users who try to enable user mode <code>x</code> (cloak) when the md5 module is not loaded.</p> </li> <li> <p>Fixed not using short module names (i.e. foo instead of m_foo) in a bunch of places.</p> </li> <li> <p>Fixed the <code>NAMELEN</code> 005 token not being used.</p> </li> <li> <p>Fixed the format of the <code>MAXLIST</code> 005 token.</p> </li> <li> <p>Fixed the syntax and help for the <code>/PING</code> command.</p> </li> <li> <p>Fixed xlines not being rechecked when a user's real hostname changes.</p> </li> <li> <p>Updated <code>./configure</code> to put store self-signed certificates in the .configure directory.</p> </li> </ul> <h3 id=inspircd-370>InspIRCd 3.7.0</h3> <p><strong>This version of InspIRCd was released on 2020-07-31.</strong></p> <ul> <li> <p>Added <code>&lt;botmode:forcenotice&gt;</code> to allow forcing bots to use NOTICEs instead of PRIVMSGs.</p> </li> <li> <p>Added a log message reminding admins that if they have defined a <code>&lt;sslprofile&gt;</code> tag they need to use the value of <code>&lt;sslprofile:name&gt;</code> in <code>&lt;bind:ssl&gt;</code> and <code>&lt;link:ssl&gt;</code> not the name of a TLS (SSL) module.</p> </li> <li> <p>Added a warning about LibreSSL support being deprecated.</p> </li> <li> <p>Added an error response when a user without the <code>users/mass-message</code> server operator privilege tries to send a mass-message.</p> </li> <li> <p>Added support for disabling client-to-client tags without disabling features which depend on the <code>message-tags</code> capability.</p> </li> <li> <p>Added support for disabling the creation/expiry notices sent to channel operators by the timedbans module.</p> </li> <li> <p>Added the --portable <code>./configure</code> option to build in portable mode.</p> </li> <li> <p>Added the <code>B</code> token to <code>/WHO</code> lines when the user in question is marked as a bot.</p> </li> <li> <p>Added the <code>inspircd-testssl</code> tool for checking whether a server is configured correctly for TLS (SSL) connections.</p> </li> <li> <p>Allowed server admins to disable the <code>/COMMANDS</code> command.</p> </li> <li> <p>Developer: added support for changing the type of a message in OnUserPreMessage.</p> </li> <li> <p>Developer: added the BOT 005 token to allow bots to automatically mark themselves as a bot.</p> </li> <li> <p>Fixed <code>/SVSHOLD</code> sending a global snotice instead of a local one.</p> </li> <li> <p>Fixed bcrypt and PBKDF2 hashes not being compared in a timing-safe way.</p> </li> <li> <p>Fixed building InspIRCd when PWD does not contain the source tree.</p> </li> <li> <p>Fixed shuns not being applied correctly.</p> </li> <li> <p>Fixed the <code>/SERVLIST</code> command not being documented in the example helpop config.</p> </li> <li> <p>Fixed the <code>&lt;class:dnsbl&gt;</code> option not matching marked DNSBL users.</p> </li> <li> <p>Fixed the <code>&lt;hostchange:ports&gt;</code> option never matching users.</p> </li> <li> <p>Fixed the ojoin module hardcoding the server operator mode instead of using a ModeReference.</p> </li> <li> <p>Fixed the systemd service depending on the Perl init script.</p> </li> <li> <p>Fixed WebSocket users not being detected as using a secure connection when they are.</p> </li> <li> <p>Removed support for TLSA record generation from inspircd-genssl (no clients adopted this).</p> </li> <li> <p>Removed the example config file for KiwiIRC as requested by upstream.</p> </li> </ul> <h3 id=inspircd-360>InspIRCd 3.6.0</h3> <p><strong>This version of InspIRCd was released on 2020-04-24.</strong></p> <ul> <li> <p>Added <code>&lt;class:snomasks&gt;</code> to allow configuring the snomasks that a server operator can use.</p> </li> <li> <p>Added <code>&lt;include:noenv&gt;</code> to disable using environment variables in an included config file.</p> </li> <li> <p>Added <code>&lt;options:modesinlist&gt;</code> to allow customising whether channel modes are included with the <code>/LIST</code> response.</p> </li> <li> <p>Added <code>&lt;sasl:requiressl&gt;</code> to require users to be connected via TLS (SSL) in order to be able to use SASL authentication.</p> </li> <li> <p>Added <code>&lt;securelist:showmsg&gt;</code> to configure whether the user should be told that they need to wait to run <code>/LIST</code>.</p> </li> <li> <p>Added support for <a href=https://ircv3.net/specs/extensions/setname.html>the IRCv3 SETNAME specification</a>.</p> </li> <li> <p>Added support for multi-line CAP responses.</p> </li> <li> <p>Added support for the <a href=https://tools.ietf.org/html/rfc2812>RFC 2812</a> <code>/SERVLIST</code> command.</p> </li> <li> <p>Added support for using environment variables in the server configuration using the <code>&amp;env.FOO;</code> syntax.</p> </li> <li> <p>Added the <code>/ADMIN</code> and <code>/OPER</code> commands to the default list of commands that a shunned user can execute.</p> </li> <li> <p>Added the <code>servers/ignore-shun</code> privilege to allow server operators to ignore shuns placed on them.</p> </li> <li> <p>Developer: added a way to exempt a message from updating the origin user's idle time.</p> </li> <li> <p>Developer: added an overloadable function to the <code>Command</code> class to allow configuring the message sent when a user executes a command that they need to be registered to use.</p> </li> <li> <p>Developer: added an overloadable function to the <code>Command</code> class to allow configuring the message sent when a user executes a command without specifying enough parameters.</p> </li> <li> <p>Developer: added multi-parameter overloads to the <code>IRCv3::Replies::Reply::SendIfCap</code> method.</p> </li> <li> <p>Developer: added the <code>EventHandler::HasFd</code> method for checking if an event handler is configured with a file descriptor.</p> </li> <li> <p>Developer: added the <code>Numerics::CannotSendTo</code> class for sending the "can not send to channel/user" numerics.</p> </li> <li> <p>Developer: added the <code>USERMODES</code> 005 token to allow parsing mode changes easier.</p> </li> <li> <p>Developer: added the <code>User::HasSnomaskPermission</code> method for checking if a user can use a snomask.</p> </li> <li> <p>Developer: added the <code>UserManager::all_ulines</code> list which contains all services on U-lined servers.</p> </li> <li> <p>Developer: added the <code>inspircd.org/standard-replies</code> capability for opting-in to receiving IRCv3 Standard Replies instead of notices.</p> </li> <li> <p>Developer: deprecated the <code>XLineManager::InvokeStats</code> methods in favour of a new overload which uses a generic numeric.</p> </li> <li> <p>Developer: stabilised support for the <a href=https://ircv3.net/specs/extensions/standard-replies>IRCv3 Standard Replies</a> specification.</p> </li> <li> <p><a href=/security/2020-01>Fixed a <strong>crash</strong> in the pgsql module when connecting to a server fails</a>.</p> </li> <li> <p>Fixed a bug where previously changed display hostnames would be reset when a hostname lookup finishes.</p> </li> <li> <p>Fixed a bunch of typos with misspell-fixer.</p> </li> <li> <p>Fixed a memory leak in the dccallow module.</p> </li> <li> <p>Fixed a memory leak in the pgsql module.</p> </li> <li> <p>Fixed being able to use the <code>MODE</code> command to look up the modes of a private or secret channel.</p> </li> <li> <p>Fixed being unable to log in to server operator accounts using the ldapauth module.</p> </li> <li> <p>Fixed leaking HTTPd sockets if they were closed with data left in their outgoing buffer.</p> </li> <li> <p>Fixed leaking the value of some server operator config options when a user tries to log into an account which requires TLS (SSL) or a client certificate fingerprint.</p> </li> <li> <p>Fixed reloading core modules by their short name.</p> </li> <li> <p>Fixed sending <code>RPL_WHOISCOUNTRY</code> for services pseudoclients.</p> </li> <li> <p>Fixed sending mass-messages to other servers on the network.</p> </li> <li> <p>Fixed server filters applying to mass-messages sent by server operators.</p> </li> <li> <p>Fixed setting the permissions of a UNIX socket listener.</p> </li> <li> <p>Fixed showing a malformed sts capability if the configuration was invalid on rehash.</p> </li> <li> <p>Fixed silently failing when trying to load more than 31 capabilities.</p> </li> <li> <p>Fixed the chanlog module writing duplicate log messages when sending snotices is enabled.</p> </li> <li> <p>Fixed the entire DNS cache not being reloaded on rehash.</p> </li> <li> <p>Fixed the restrictchans module not telling the user when they are prevented from creating a channel.</p> </li> <li> <p>Fixed various config values using an empty value instead of the default if an empty value was specified.</p> </li> <li> <p>Fixed warning snotices not being sent when a user fails to login to a server operator account which requires TLS (SSL) and/or a matching client certificate fingerprint.</p> </li> <li> <p>Improved the descriptions of all of the modules.</p> </li> <li> <p>Improved the error message shown when trying to load a module which is too old or too new for the current version.</p> </li> <li> <p>Improved the error messages shown by the ldap module.</p> </li> <li> <p>Improved the output of the <code>SSLINFO</code> command.</p> </li> <li> <p>Updated messages to refer to TLS as "TLS (SSL)" instead of SSL.</p> </li> </ul> <h3 id=inspircd-350>InspIRCd 3.5.0</h3> <p><strong>This version of InspIRCd was released on 2020-01-31.</strong></p> <ul> <li> <p>Added support for <a href=https://ircv3.net/specs/extensions/labeled-response.html>the IRCv3 Labeled Response specification</a>.</p> </li> <li> <p>Added support for help topics to the helpop module.</p> </li> <li> <p>Added support for pagination to the index output of the <code>HELPOP</code> command.</p> </li> <li> <p>Added support for passing module names to <code>--{disable,enable}-extras</code> using their short names (e.g. <code>--enable-extras ssl_gnutls</code>).</p> </li> <li> <p>Added support for passing space-delimited module names to <code>--{disable,enable}-extras</code> (e.g. <code>--enable-extras "ssl_gnutls ssl_mbedtls"</code>).</p> </li> <li> <p>Added support for the <code>X-Real-IP</code> and <code>X-Forwarded-For</code> headers to the websocket module.</p> </li> <li> <p>Added the codepage module &mdash; a better solution for custom 8-bit character set support than the incredibly broken and undocumented nationalchars module.</p> </li> <li> <p>Changed the default for <code>&lt;waitpong:sendsnotice&gt;</code> to <code>no</code>.</p> </li> <li> <p>Changed the user count in <code>LUSERS</code> so that it no longer includes services pseudoclients.</p> </li> <li> <p>Developer: add <code>Channel::WriteRemoteNotice</code> which sends a notice to remote users as well as local users.</p> </li> <li> <p>Developer: add a status char option to <code>Channel::WriteNotice</code> for sending status messages.</p> </li> <li> <p>Developer: add the <code>ClientProtocol::MessageTagEvent</code> class to allow handling message tags easier.</p> </li> <li> <p>Developer: added <code>MessageTarget::GetName</code> to allow easily getting the name of a message target.</p> </li> <li> <p>Developer: added a status char option to the <code>TagMessage</code> constructor for sending status messages.</p> </li> <li> <p>Developer: added an "oper only" parameter to <code>Simple{Channel,User}ModeHandler</code>.</p> </li> <li> <p>Developer: added empty string checks to the <code>Numerics::NoSuch{Channel,Nick}</code> constructors.</p> </li> <li> <p>Developer: added several variadic overloads of the <code>IRCv3::Replies::Reply::Send</code> method.</p> </li> <li> <p>Developer: added the <code>OnCommandBlocked</code> event for when the execution of a command is blocked.</p> </li> <li> <p>Developer: added the <code>UserManager::ULineCount</code> method for counting pseudoclients on U-lined servers.</p> </li> <li> <p>Developer: added the <code>inspircd.org/poison</code> capability which rejects any attempt to request it to avoid clients requesting all available capabilities rather than the ones they support.</p> </li> <li> <p>Developer: added the <code>stdalgo:delete_zero</code> method for deleting and zeroing a pointer.</p> </li> <li> <p>Developer: deprecated the <code>ProtocolInterface::Send{Channel,User}Notice</code> methods in favour of <code>SendMessage</code>.</p> </li> <li> <p>Developer: disabled <code>CULLLIST</code> log messages unless the server has been built in debug mode.</p> </li> <li> <p>Developer: switched from Travis CI to GitHub Actions.</p> </li> <li> <p>Developer: the <code>FailedPort</code> type now contains the config tag that the listener was created from.</p> </li> <li> <p>Fix connections to ports which have an invalid I/O hook configured not being rejected.</p> </li> <li> <p>Fix various Perl tools not looking in the right directory for the <code>make::*</code> modules.</p> </li> <li> <p>Fixed a bug in <code>helpop.conf.example</code> where the SWHOIS key was not using the correct value name.</p> </li> <li> <p>Fixed allowing <code>TAGMSG</code> messages to be sent without any tags attached.</p> </li> <li> <p>Fixed boolean configuration options not being matched in a case insensitive way.</p> </li> <li> <p>Fixed not using case insensitive comparisons for the DCCALLOW subcommands.</p> </li> <li> <p>Fixed not using case insensitive matching when checking if a TLS (SSL) rehash has been requested.</p> </li> <li> <p>Fixed not using the <code>ERR_INVALIDMODEPARAM</code> numeric when not enough parameters are given to the <code>snomask</code> mode.</p> </li> <li> <p>Fixed not using the <code>RPL_REHASHING</code> numeric for remote rehashes.</p> </li> <li> <p>Fixed parsing CTCPs in the dccallow module.</p> </li> <li> <p>Fixed prioritisation of custom events provided by modules.</p> </li> <li> <p>Fixed spamming the log with DNS cache clearing notices when nothing was actually cleared.</p> </li> <li> <p>Fixed status messages not working with the <code>TAGMSG</code> command.</p> </li> <li> <p>Fixed the chanhistory module not storing message tags.</p> </li> <li> <p>Fixed the chanhistory module not storing notices.</p> </li> <li> <p>Fixed the chanhistory module storing CTCPs.</p> </li> <li> <p>Fixed the legacy <code>PROTOCTL NAMESX</code> command not using case insensitive matching.</p> </li> <li> <p>Fixed the legacy <code>PROTOCTL UHNAMES</code> command not using case insensitive matching.</p> </li> <li> <p>Fixed the nationalchars module allowing nicknames which begin with a number.</p> </li> <li> <p>Fixed the nationalchars module not rebuilding the 005 numerics on unload.</p> </li> <li> <p>Fixed the nationalchars module not restoring the previous casemapping name on unload.</p> </li> <li> <p>Fixed the systemd unit file starting InspIRCd before the network is online.</p> </li> <li> <p>Fixed unnecessarily making <code>N*2-1</code> too many copies of the command arguments when processing a command with multiple targets.</p> </li> <li> <p>Improve the warning process when starting InspIRCd as root.</p> </li> <li> <p>Improved the ban message shown to users if they are banned by an extban.</p> </li> <li> <p>Improved the output when a port can not be bound.</p> </li> <li> <p>Removed the preceding <code>-</code> from the MOTD, server operator MOTD, and any custom MOTDs added with the showfile module.</p> </li> <li> <p>Renamed <code>&lt;chanhistory:notice&gt;</code> to <code>&lt;chanhistory:prefixmsg&gt;</code> so the behaviour is less ambiguous.</p> </li> <li> <p>Replace the Windows getopt_long shim with the ya_getopt library.</p> </li> <li> <p>Updated the example MOTD and server operator MOTD to be a bit prettier and show off some of the escape codes.</p> </li> </ul> <h3 id=inspircd-340>InspIRCd 3.4.0</h3> <p><strong>This version of InspIRCd was released on 2019-10-25.</strong></p> <ul> <li> <p>Added <code>&lt;alias:stripcolor&gt;</code> to allow stripping formatting codes before matching an alias.</p> </li> <li> <p>Added <code>&lt;cloak:ignorecase&gt;</code> to ignore the case of a FQDN when cloaking.</p> </li> <li> <p>Added a check for the <code>channels/auspex</code> privilege to the hidemode module.</p> </li> <li> <p>Added a workaround for gateway IP addresses being banned by the connectban module.</p> </li> <li> <p>Added more information to timedbans addition/expiry notices.</p> </li> <li> <p>Added support for filtering part messages to the chanfilter module.</p> </li> <li> <p>Developer: added <code>ConfigStatus::initial</code> to find out if the config is being loaded for the first time.</p> </li> <li> <p>Developer: added <code>Events::ModuleEventProvider::{OnSubscribe,OnUnsubscribe}</code> to allow knowing when a module has subscribed to or unsubscribed from an event.</p> </li> <li> <p>Developer: added a parameter to the <code>OnServerSplit</code> event which specifies whether the split was intended or not.</p> </li> <li> <p>Developer: added an internal serialisation of the dccallow list.</p> </li> <li> <p>Developer: added an internal serialisation of the silence list.</p> </li> <li> <p>Developer: added the <code>GetId</code> method to the <code>Server</code> class.</p> </li> <li> <p>Developer: added the <code>GetNumericToken</code> method to the <code>irc::sepstream</code> class.</p> </li> <li> <p>Developer: added the <code>GetTypeStr</code> method to the <code>DNS::Manager</code> class.</p> </li> <li> <p>Developer: added the <code>OnServerBurst</code> event for executing actions after a server has finished bursting.</p> </li> <li> <p>Developer: added the <code>OnShutdown</code> event for executing actions shortly before shutdown.</p> </li> <li> <p>Developer: added the experimental <code>Serializable</code> class &amp; API and implemented it in the <code>Extensible</code>, <code>User</code> and <code>LocalUser</code> classes.</p> </li> <li> <p>Developer: changed <code>IS_{LOCAL,REMOTE,SERVER}</code> to be capable of handling null pointers.</p> </li> <li> <p>Developer: exposed variable list modes via the <code>VLIST</code> 005 token to make things easier for client developers.</p> </li> <li> <p>Disabled DNS, DNSBL, and ident lookups for unregistered KiwiIRC.com users in the example provider configs.</p> </li> <li> <p>Documented the <code>repeat</code> exemption type.</p> </li> <li> <p>Exempted the KiwiIRC.com servers from X-lines in the example provider configs.</p> </li> <li> <p>Fixed a bug in the HAProxy module where it would ignore any data received in the same packet as the header when using TCP connections.</p> </li> <li> <p>Fixed a crash on shutdown in the spanningtree module.</p> </li> <li> <p>Fixed linker errors caused by build objects from one compiler being used by another.</p> </li> <li> <p>Fixed not respecting the deprecated <code>&lt;channels:users&gt;</code> config tag.</p> </li> <li> <p>Fixed the DNSBL module banning a user after their IP address has changed.</p> </li> <li> <p>Fixed the IP addresses of the KiwiIRC.com servers in the example provider configs.</p> </li> <li> <p>Fixed the <code>OnSetUserIP</code> event being fired before the connect class has changed.</p> </li> <li> <p>Fixed the <code>u_noctcp</code> mode not being respected for CTCPs targeted at a channel.</p> </li> <li> <p>Fixed the config example path not being updated when the config path is changed in interactive mode.</p> </li> <li> <p>Fixed the example configs allowing voiced users to voice/devoice other users.</p> </li> <li> <p>Fixed the example provider config files not being installed.</p> </li> <li> <p>Fixed the silence module not being able to add or remove entries in some cases.</p> </li> <li> <p>Fixed various issues relating to hostname resolution.</p> </li> <li> <p>Raised the default value for <code>&lt;connflood:bootwait&gt;</code> from ten seconds to two minutes.</p> </li> <li> <p>Replaced the gdbargs file with the <code>--eval-command</code> option inside the init script.</p> </li> <li> <p>Updated the NetBSD <code>EV_SET</code> workaround now that upstream have fixed the issue.</p> </li> </ul> <h3 id=inspircd-330>InspIRCd 3.3.0</h3> <p><strong>This version of InspIRCd was released on 2019-08-23.</strong></p> <ul> <li> <p>Added PackageInfo directives for ArchLinux.</p> </li> <li> <p>Changed the maximum value for <code>&lt;chanfilter:maxlen&gt;</code> from 100 to 250.</p> </li> <li> <p>Developer: added an experimental header which implements the <a href=https://github.com/ircv3/ircv3-specifications/blob/master/extensions/standard-replies.md>IRCv3 Standard Replies draft</a>.</p> </li> <li> <p>Developer: added the OnConnectionFail event for suspending a user connection which is about to fail.</p> </li> <li> <p>Developer: added the <code>ExtensionItem::{To,From}{Human,Internal,Network}</code> methods to convert an extension item to and from various string forms.</p> </li> <li> <p>Developer: added the <code>MessageEventListener</code> class for adding tags to server messages.</p> </li> <li> <p>Developer: added the <code>{EventHandler,StreamSocket,UserIOHandler}::SwapInternals</code> methods to swap the internals of two sockets.</p> </li> <li> <p>Developer: deprecated the ServerEventListener class and split the events contained within it into the `ServerProtocol::{BroadcastEventListener,LinkEventListener,SyncEventListener} classes.</p> </li> <li> <p>Developer: deprecated the <code>SerializeFormat</code> enum, and the <code>serialize</code>, <code>unserialize</code> methods of the <code>ExtensionItem</code> class, and the <code>LocalExtItem</code> class.</p> </li> <li> <p><a href=/security/2019-02>Fixed a <strong>crash</strong> in the MySQL module when built against mariadb-connector-c v3.0.5 or newer</a>.</p> </li> <li> <p>Fixed allowing the <code>sasl</code> capability to be requested when the SASL server is offline.</p> </li> <li> <p>Fixed empty <code>GLOBOPS</code> and <code>WALLOPS</code> messages not failing with an <code>ERR_NOTEXTTOSEND</code> message.</p> </li> <li> <p>Fixed listener sockets with <code>&lt;bind:replace&gt;</code> enabled not being replaced in some circumstances.</p> </li> <li> <p>Fixed not applying IRCv3 <code>server-time</code> timestamps on the server the source is connecting from.</p> </li> <li> <p>Fixed not being able to use the <code>O</code> (oper) extban to server operators with a space in their server operator type.</p> </li> <li> <p>Fixed referring to registration timeouts as ping timeouts in the <code>conn_waitpong</code> module.</p> </li> <li> <p>Fixed sending IRCv3 <code>account-notify</code> and <code>chghost</code> messages to a user who has not sent the <code>NICK</code> and <code>USER</code> commands yet.</p> </li> <li> <p>Fixed sending IRCv3 <code>cap-notify</code> messages for capabilities which are not presently visible in <code>CAP LS</code>.</p> </li> <li> <p>Fixed the <code>geo_maxmind</code> module trying to interpret an <code>AF_UNIX</code> endpoint as an IP address.</p> </li> <li> <p>Improved the message sent to server operators when the maximum connections for a connect class is reached.</p> </li> <li> <p>Updated the vendored <code>utfcpp</code> library to v3.1.</p> </li> </ul> <h3 id=inspircd-320>InspIRCd 3.2.0</h3> <p><strong>This version of InspIRCd was released on 2019-07-05.</strong></p> <ul> <li> <p>Added a configure option, <code>--example-dir</code>, which specifies the directory that example config files get installed into.</p> </li> <li> <p>Added a flag to the filter module which allows registered users to be exempt from a filter.</p> </li> <li> <p>Added a warning when the user tries to build on OpenBSD as it ships very broken compilers.</p> </li> <li> <p>Added a warning when the user tries to build without TLS (SSL) support.</p> </li> <li> <p>Added example config files for enabling support for IRCCloud and KiwiIRC.com on your server.</p> </li> <li> <p>Added syntax hints for all modes with parameters to the <code>ERR_INVALIDMODEPARAM</code> numeric response.</p> </li> <li> <p>Added the ability to include all .conf files in a directory.</p> </li> <li> <p>Added <code>&lt;bind:permissions&gt;</code> to UNIX socket listeners to set who can access the socket.</p> </li> <li> <p>Added <code>&lt;bind:replace&gt;</code> to UNIX socket listeners to allow replacing existing sockets on boot.</p> </li> <li> <p>Added <code>&lt;messageflood:notice&gt;</code>, <code>&lt;messageflood:privmsg&gt;</code>, and <code>&lt;messageflood:tagmsg&gt;</code> to the messageflood module to specify how many lines individual messages are equivalent to.</p> </li> <li> <p>Added <code>&lt;permchanneldb:saveperiod&gt;</code> to allow customising how often the permchannels module should check whether its database needs to be saved.</p> </li> <li> <p>Added <code>&lt;sslprofile:tlsv11&gt;</code> and <code>&lt;sslprofile:tlsv12&gt;</code> to the ssl_openssl module to easily allow disabling old TLS (SSL) versions.</p> </li> <li> <p>Added <code>&lt;xlinedb:saveperiod&gt;</code> to allow customising how often the xline_db module should check whether its database needs to be saved.</p> </li> <li> <p>All SQL queries are now logged at the debug log level to enable easier debugging of SQL issues.</p> </li> <li> <p>Developer: added support for marking a socket to be closed once it has finished receiving all the data sent to it.</p> </li> <li> <p>Developer: added support for retrieving the end message of a batch.</p> </li> <li> <p>Developer: added the OnUserPreQuit event for changing quit messages before a user disconnects.</p> </li> <li> <p>Developer: added the <code>FileSystem::GetFileList()</code> function to get a list of files in a directory matching a glob pattern.</p> </li> <li> <p>Developer: added the <code>irc::sockets::isunix()</code> function for checking if a string is a valid UNIX socket path.</p> </li> <li> <p>Developer: ignore any <code>SIGUSR1</code> or <code>SIGUSR2</code> with no handlers instead of killing the process.</p> </li> <li> <p>Fixed a misleading debug message in the sslinfo module.</p> </li> <li> <p>Fixed calculating the human-readable version of durations.</p> </li> <li> <p>Fixed closing HTTP connections before the entire http_stats module output had been sent.</p> </li> <li> <p>Fixed linking the spanningtree module on OpenBSD.</p> </li> <li> <p>Fixed modules that are in the process of being unloaded sometimes having events called on them.</p> </li> <li> <p>Fixed not checking if the cap module is enabled before enabling the <code>NAMESX</code> and <code>UHNAMES</code> 005 tokens.</p> </li> <li> <p>Fixed outgoing UNIX socket server connections.</p> </li> <li> <p>Fixed routing tags on TAGMSG messages between servers.</p> </li> <li> <p>Fixed server operators with the <code>channels/auspex</code> privilege not being able to request the topic of secret/private channels with the <code>/TOPIC</code> command.</p> </li> <li> <p>Fixed the autoop module checking the prefix mode add rank when removing list entries.</p> </li> <li> <p>Fixed the conn_umodes module setting user modes before the MOTD has been sent.</p> </li> <li> <p>Fixed the default log directory in system-wide mode to be <code>/var/log/inspircd</code>.</p> </li> <li> <p>Fixed the denychans module not checking whether the redirect channel is allowed properly.</p> </li> <li> <p>Fixed the exemptchanops module not validating list entries.</p> </li> <li> <p>Fixed the grammar of the error messages sent by the repeat module.</p> </li> <li> <p>Fixed the Perl helper script finding the location of the PID file.</p> </li> <li> <p>Fixed the sslinfo module not being able to place WebIRC users into the appropriate connect classes.</p> </li> <li> <p>Fixed the TAGMSG message forwarding all tags regardless of whether they had been whitelisted.</p> </li> <li> <p>Fixed the <code>&lt;connect:usests&gt;</code> option being inverted.</p> </li> <li> <p>Fixed various harmless compiler warnings in the httpd module.</p> </li> <li> <p>Fixed <code>&lt;pid:file&gt;</code> not being relative to the data directory as was intended.</p> </li> <li> <p>Fixed <code>server-time</code> timestamps only being accurate to the second.</p> </li> <li> <p>Made the error message sent by the alias module when an alias requires a U-lined target but the target is not U-lined more accurate.</p> </li> <li> <p>Show how many users in a channel are not using TLS (SSL) in the <code>ERR_ALLMUSTSSL</code> response.</p> </li> <li> <p>Updated the Module Manager source list for the new inspircd-contrib repository.</p> </li> </ul> <h3 id=inspircd-310>InspIRCd 3.1.0</h3> <p><strong>This version of InspIRCd was released on 2019-05-17.</strong></p> <ul> <li> <p>Added a configure option, <code>--disable-auto-extras</code>, which disables automatically enabling extras for which the dependencies are available.</p> </li> <li> <p>Added support for disabling a STS policy for users in specific connect classes.</p> </li> <li> <p>Added support for <a href=https://ircv3.net/specs/extensions/message-ids.html>the IRCv3 Message IDs specification</a>.</p> </li> <li> <p>Developer: added support for modules overriding the default access checks for <code>NOTICE</code>, <code>PRIVMSG</code>, and <code>TAGMSG</code>.</p> </li> <li> <p>Developer: added the <code>INSPIRCD_VERSION_BEFORE(MAJOR, MINOR)</code> and <code>INSPIRCD_VERSION_SINCE(MAJOR, MINOR)</code> macros for checking the InspIRCd version at compile time.</p> </li> <li> <p>Developer: allowed child classes of SSLIOHook to override <code>GetCertificate()</code> and <code>GetFingerprint()</code>.</p> </li> <li> <p><a href=/security/2019-01>Fixed a <strong>crash</strong> in the silence module on some older versions of GCC</a>.</p> </li> <li> <p>Fixed linking against v2 servers running the ASCII case mapping module from inspircd-contrib.</p> </li> <li> <p>Fixed an inverted condition in the commonchans module which made the module not work.</p> </li> <li> <p>Fixed configure not failing when invalid options were passed to it.</p> </li> <li> <p>Fixed pending X-lines only being applied to a single user.</p> </li> <li> <p>Fixed servers not specifying whether they are hidden. If no visibility is specified then servers default to the visibility of their parent server.</p> </li> </ul> <h3 id=inspircd-301>InspIRCd 3.0.1</h3> <p><strong>This version of InspIRCd was released on 2019-05-10.</strong></p> <ul> <li> <p>Documented the anticaps exemption in both the main config and in the example helpop config.</p> </li> <li> <p>Documented user mode <code>O</code> (override) in the helpop config.</p> </li> <li> <p>Fixed building against older versions of glibc.</p> </li> <li> <p>Fixed compiling with the kqueue socket engine on NetBSD.</p> </li> <li> <p>Fixed relying on PWD being set in the makefile.</p> </li> <li> <p>Fixed the <code>--distribution-label</code> configure option erroneously making the configure script require the <code>--development</code> flag to be passed.</p> </li> <li> <p>Fixed the example <code>&lt;wsorigin&gt;</code> tag erroneously suggesting that a path was included.</p> </li> <li> <p>Fixed the filesystem permissions that files are installed with.</p> </li> <li> <p>Fixed the MAXLIST 005 token not reflecting the true lower limit.</p> </li> <li> <p>Fixed the parameters for the <code>/NAMES</code> command in the syntax hint and example helpop config.</p> </li> <li> <p>Raised the connection timeout in the example configs to 20s. This should give more time for clients on slow connections that want to do a lot of things (request caps, do SASL auth, etc) on connect.</p> </li> <li> <p>Silenced a harmless compiler warning in the pgsql module on newer GCCs.</p> </li> </ul></div> </div> <footer class="col-md-12 text-center"> <hr> <p> <small>All documentation is licensed under the <a href=/license>GNU GPLv2</a>.</small><br> <small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small> </p> </footer> <script src=//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script> <script src=../../js/bootstrap-3.0.3.min.js></script> <script src=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js></script> <script>hljs.initHighlightingOnLoad();</script> <script>var base_url = "../.."</script> <script src=../../js/base.js></script> <script src=../../search/main.js></script> <div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true> <div class="modal-dialog modal-lg"> <div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal> <span aria-hidden=true>&times;</span> <span class=sr-only>Close</span> </button> <h4 class=modal-title id=searchModalLabel>Search</h4> </div> <div class=modal-body> <p> From here you can search these documents. Enter your search terms below. </p> <form> <div class=form-group> <input type=text class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"> </div> </form> <div id=mkdocs-search-results></div> </div> <div class=modal-footer> </div> </div> </div> </div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <table class=table> <thead> <tr> <th style="width: 20%;">Keys</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td class="help shortcut"><kbd>?</kbd></td> <td>Open this help</td> </tr> <tr> <td class="next shortcut"><kbd>n</kbd></td> <td>Next page</td> </tr> <tr> <td class="prev shortcut"><kbd>p</kbd></td> <td>Previous page</td> </tr> <tr> <td class="search shortcut"><kbd>s</kbd></td> <td>Search</td> </tr> </tbody> </table> </div> <div class=modal-footer> </div> </div> </div> </div> </body> </html> 